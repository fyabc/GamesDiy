# 三国杀 收益论

## 基本参数

1. 游戏模式 `M`

    1. 两人对抗（1v1）
    2. 身份局（R*）
        3. 身份标记（%R）：主公（%R1）、忠臣（%R2）、反贼（%R3）、内奸（%R4）
    3. 五人身份局（R5 / R5.1-1-2-1）
    4. 八人身份局（R8 / R8.1-2-4-1）
    5. 八人身份局双内模式（R8-2 / R8-2.1-2-3-2）

2. 游戏资源（粗体为基本资源，其他为次要资源）

    1. **体力值** `H`
    2. **手牌数** `C`
    3. 攻击范围 `R`
    4. 装备区 `E`
    5. 体力上限 `HL`
    6. 手牌上限 `CL`
    7. 更多 ...

    > 某个资源`X`的变化量用`△X`或`x`表示

3. 游戏目标

    1. `M = 1v1`：杀死对方
    2. `M = R*`：杀死主公或杀死所有反贼和内奸
4. 卡牌收益讨论

    1. 每张卡牌有基础价值`c_base`，这是不考虑卡牌内容的价值（即卡牌在未使用情况下的价值）。
    2. 对一张卡牌而言，其使用收益`c_use`都是以造成体力值变化的期望值`△H (d)`（伤害）体现的。在伤害`d`的基础上，衍生出每张卡牌本身的价值`c = c_use - c_base`。
    3. 【杀】的使用收益：
        1. 以`p_hit`的概率命中目标，收益为`c = d = 1`；
        2. 以`1 - p_hit`的概率被【闪】抵消，收益为`c = d = 0`；
        3. 由于每个出牌阶段至多使用一张【杀】，需要增加修正项`scale ∈ (0, 1)`。
        4. 总收益为`c = p_hit * scale - c_base`。
    4. 【闪】的使用收益：`c = 0`。
    5. 【桃】的使用收益：`c = 1 - c_base`。
    6. 所有卡牌的平均使用收益：`c_avg = c_use.avg + c_base`
5. 武将技能收益讨论

    1. 主要指标：每轮平均收益
    2. 白板武将的每轮收益
        1. 摸牌收益 + 用牌收益：`2 * c_avg`
